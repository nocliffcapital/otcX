// SPDX-License-Identifier: MIT
pragma solidity ^0.8.24;

import "forge-std/Script.sol";
import "../src/ProjectRegistry.sol";

contract DeployFreshRegistryScript is Script {
    function run() external {
        uint256 deployerPrivateKey = vm.envUint("PRIVATE_KEY");
        
        vm.startBroadcast(deployerPrivateKey);
        
        // Deploy completely fresh ProjectRegistry
        ProjectRegistry registry = new ProjectRegistry();
        console2.log("Deployed fresh ProjectRegistry at:", address(registry));
        
        // Add projects with CORRECT parameter order: slug, name, tokenAddress, assetType, twitter, website, description, logoUrl
        registry.addProject(
            "lighter",
            "Lighter",
            0x000000000000000000000000000000006C696768,
            "Points",
            "https://x.com/lighter_xyz",
            "https://lighter.xyz",
            "Lighter is a high-performance orderbook DEX built for derivatives trading",
            "" // logoUrl - add your logo URL here
        );
        
        registry.addProject(
            "extended",
            "Extended",
            0x0000000000000000000000000000657874656E64,
            "Points",
            "https://x.com/extendedxyz",
            "https://extended.xyz",
            "Extended brings perpetual futures to Layer 2",
            "" // logoUrl
        );
        
        registry.addProject(
            "pacifica",
            "Pacifica",
            0x0000000000000000000000000000007061636966,
            "Tokens",
            "https://x.com/pacificaxyz",
            "https://pacifica.xyz",
            "Pacifica is a decentralized exchange aggregator",
            "" // logoUrl
        );
        
        registry.addProject(
            "variational",
            "Variational",
            0x0000000000000000000000076617269617469006,
            "Tokens",
            "https://x.com/variationalxyz",
            "https://variational.xyz",
            "Variational provides advanced trading strategies",
            "" // logoUrl
        );
        
        console2.log("Seeded 4 projects");
        
        vm.stopBroadcast();
        
        console2.log("\n=== Update your .env.local ===");
        console2.log("NEXT_PUBLIC_REGISTRY=", address(registry));
    }
}
